{"ast":null,"code":"import _slicedToArray from\"/Users/leo/Desktop/IT/projects/goit-react-hw-07-phonebook1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import MyButton from\"components/UI/button/MyButton\";import React from\"react\";import s from\"./ContactsList.module.css\";import{useFetchContactsQuery,useDeleteContactMutation}from\"../../redux\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ContactsList=function ContactsList(){var _useFetchContactsQuer=useFetchContactsQuery(),_useFetchContactsQuer2=_useFetchContactsQuer.data,data=_useFetchContactsQuer2===void 0?[]:_useFetchContactsQuer2,isLoading=_useFetchContactsQuer.isLoading;var _useDeleteContactMuta=useDeleteContactMutation(),_useDeleteContactMuta2=_slicedToArray(_useDeleteContactMuta,1),deleteContact=_useDeleteContactMuta2[0];var filters=useSelector(function(state){return state.filter.filter;});var filteredContacts=function filteredContacts(){var normalizedFilters=filters.toLowerCase();return data&&data.filter(function(contact){return contact.name.toLowerCase().includes(normalizedFilters);});};var contacts=filteredContacts();return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading&&/*#__PURE__*/_jsx(\"h1\",{style:{textAlign:\"center\"},children:\"Load contacts......\"}),/*#__PURE__*/_jsxs(\"table\",{className:s.table,children:[/*#__PURE__*/_jsx(\"thead\",{className:s.thead,children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:!isLoading&&contacts.map(function(_ref,index){var id=_ref.id,name=_ref.name,phone=_ref.phone;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:index+1}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:name}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:phone}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(MyButton,{onClick:function onClick(){return deleteContact(id);},children:\"Delete contact\"})})]},id);})})]})]});};export default ContactsList;","map":{"version":3,"sources":["/Users/leo/Desktop/IT/projects/goit-react-hw-07-phonebook1/src/components/contactsList/ContactsList.js"],"names":["MyButton","React","s","useFetchContactsQuery","useDeleteContactMutation","useSelector","ContactsList","data","isLoading","deleteContact","filters","state","filter","filteredContacts","normalizedFilters","toLowerCase","contact","name","includes","contacts","textAlign","table","thead","map","index","id","phone"],"mappings":"gJAAA,MAAOA,CAAAA,QAAP,KAAqB,+BAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,2BAAd,CACA,OAASC,qBAAT,CAAgCC,wBAAhC,KAAgE,aAAhE,CACA,OAASC,WAAT,KAA4B,aAA5B,C,6IAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,0BAAiCH,qBAAqB,EAAtD,8CAAQI,IAAR,CAAQA,IAAR,iCAAe,EAAf,wBAAmBC,SAAnB,uBAAmBA,SAAnB,CAEA,0BAAwBJ,wBAAwB,EAAhD,gEAAOK,aAAP,2BAEA,GAAMC,CAAAA,OAAO,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAWA,CAAAA,KAAK,CAACC,MAAN,CAAaA,MAAxB,EAAD,CAA3B,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7B,GAAMC,CAAAA,iBAAiB,CAAGJ,OAAO,CAACK,WAAR,EAA1B,CACA,MACER,CAAAA,IAAI,EACJA,IAAI,CAACK,MAAL,CAAY,SAACI,OAAD,QACVA,CAAAA,OAAO,CAACC,IAAR,CAAaF,WAAb,GAA2BG,QAA3B,CAAoCJ,iBAApC,CADU,EAAZ,CAFF,CAMD,CARD,CAUA,GAAMK,CAAAA,QAAQ,CAAGN,gBAAgB,EAAjC,CAEA,mBACE,2BACGL,SAAS,eACR,WAAI,KAAK,CAAE,CAAEY,SAAS,CAAE,QAAb,CAAX,iCAFJ,cAIE,eAAO,SAAS,CAAElB,CAAC,CAACmB,KAApB,wBACE,cAAO,SAAS,CAAEnB,CAAC,CAACoB,KAApB,uBACE,mCACE,yBADF,cAEE,+BAFF,cAGE,8BAHF,cAIE,8BAJF,GADF,EADF,cASE,uBACG,CAACd,SAAD,EACCW,QAAQ,CAACI,GAAT,CAAa,cAAsBC,KAAtB,KAAGC,CAAAA,EAAH,MAAGA,EAAH,CAAOR,IAAP,MAAOA,IAAP,CAAaS,KAAb,MAAaA,KAAb,oBACX,mCACE,WAAI,KAAK,CAAE,CAAEN,SAAS,CAAE,QAAb,CAAX,UAAqCI,KAAK,CAAG,CAA7C,EADF,cAEE,WAAI,KAAK,CAAE,CAAEJ,SAAS,CAAE,QAAb,CAAX,UAAqCH,IAArC,EAFF,cAGE,WAAI,KAAK,CAAE,CAAEG,SAAS,CAAE,QAAb,CAAX,UAAqCM,KAArC,EAHF,cAIE,WAAI,KAAK,CAAE,CAAEN,SAAS,CAAE,QAAb,CAAX,uBACE,KAAC,QAAD,EAAU,OAAO,CAAE,yBAAMX,CAAAA,aAAa,CAACgB,EAAD,CAAnB,EAAnB,4BADF,EAJF,GAASA,EAAT,CADW,EAAb,CAFJ,EATF,GAJF,GADF,CA8BD,CAjDD,CAmDA,cAAenB,CAAAA,YAAf","sourcesContent":["import MyButton from \"components/UI/button/MyButton\";\nimport React from \"react\";\nimport s from \"./ContactsList.module.css\";\nimport { useFetchContactsQuery, useDeleteContactMutation } from \"../../redux\";\nimport { useSelector } from \"react-redux\";\n\nconst ContactsList = () => {\n  const { data = [], isLoading } = useFetchContactsQuery();\n\n  const [deleteContact] = useDeleteContactMutation();\n\n  const filters = useSelector((state) => state.filter.filter);\n\n  const filteredContacts = () => {\n    const normalizedFilters = filters.toLowerCase();\n    return (\n      data &&\n      data.filter((contact) =>\n        contact.name.toLowerCase().includes(normalizedFilters)\n      )\n    );\n  };\n\n  const contacts = filteredContacts();\n\n  return (\n    <>\n      {isLoading && (\n        <h1 style={{ textAlign: \"center\" }}>Load contacts......</h1>\n      )}\n      <table className={s.table}>\n        <thead className={s.thead}>\n          <tr>\n            <th>n</th>\n            <th>Contact</th>\n            <th>Number</th>\n            <th>Delete</th>\n          </tr>\n        </thead>\n        <tbody>\n          {!isLoading &&\n            contacts.map(({ id, name, phone }, index) => (\n              <tr key={id}>\n                <td style={{ textAlign: \"center\" }}>{index + 1}</td>\n                <td style={{ textAlign: \"center\" }}>{name}</td>\n                <td style={{ textAlign: \"center\" }}>{phone}</td>\n                <td style={{ textAlign: \"center\" }}>\n                  <MyButton onClick={() => deleteContact(id)}>Delete contact</MyButton>\n                </td>\n              </tr>\n            ))}\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nexport default ContactsList;\n"]},"metadata":{},"sourceType":"module"}