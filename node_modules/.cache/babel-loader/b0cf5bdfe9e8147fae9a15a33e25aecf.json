{"ast":null,"code":"import _objectSpread from\"/Users/leo/Desktop/IT/projects/goit-react-hw-07-phonebook1/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/leo/Desktop/IT/projects/goit-react-hw-07-phonebook1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import MyButton from\"components/UI/button/MyButton\";import MyInput from\"components/UI/input/MyInput\";import React,{useState}from\"react\";import s from\"./PhoneForm.module.css\";import toast from\"react-hot-toast\";import{useFetchContactsQuery,useAddContactMutation}from\"../../redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PhoneForm=function PhoneForm(){var _useState=useState({name:\"\",number:\"\"}),_useState2=_slicedToArray(_useState,2),contact=_useState2[0],setContact=_useState2[1];var _useAddContactMutatio=useAddContactMutation(),_useAddContactMutatio2=_slicedToArray(_useAddContactMutatio,1),addContact=_useAddContactMutatio2[0];var _useFetchContactsQuer=useFetchContactsQuery(),_useFetchContactsQuer2=_useFetchContactsQuer.data,data=_useFetchContactsQuer2===void 0?[]:_useFetchContactsQuer2;var toAddContact=function toAddContact(e){e.preventDefault();var newContact=_objectSpread(_objectSpread({},contact),{},{id:Date.now()});data.some(function(contact){return contact.name===newContact.name;})?toast.error(\"your phonebook has contact \".concat(newContact.name)):addContact(newContact);setContact({name:\"\",number:\"\"});toast.success(\"Created new contact!\");};return/*#__PURE__*/_jsxs(\"form\",{className:s.myForm,onSubmit:toAddContact,children:[/*#__PURE__*/_jsx(MyInput,{required:true,type:\"text\",placeholder:\"name\",name:\"name\",value:contact.name,onChange:function onChange(e){return setContact(_objectSpread(_objectSpread({},contact),{},{name:e.target.value}));}}),/*#__PURE__*/_jsx(MyInput,{required:true,type:\"text\",placeholder:\"number\",name:\"number\",value:contact.number,onChange:function onChange(e){return setContact(_objectSpread(_objectSpread({},contact),{},{number:e.target.value}));}}),/*#__PURE__*/_jsx(MyButton,{type:\"submit\",children:\"Add contact\"})]});};export default PhoneForm;","map":{"version":3,"sources":["/Users/leo/Desktop/IT/projects/goit-react-hw-07-phonebook1/src/components/phoneForm/PhoneForm.js"],"names":["MyButton","MyInput","React","useState","s","toast","useFetchContactsQuery","useAddContactMutation","PhoneForm","name","number","contact","setContact","addContact","data","toAddContact","e","preventDefault","newContact","id","Date","now","some","error","success","myForm","target","value"],"mappings":"+RAAA,MAAOA,CAAAA,QAAP,KAAqB,+BAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,6BAApB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,CAAP,KAAc,wBAAd,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,CACA,OAASC,qBAAT,CAAgCC,qBAAhC,KAA6D,aAA7D,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,cAA8BL,QAAQ,CAAC,CAAEM,IAAI,CAAE,EAAR,CAAYC,MAAM,CAAE,EAApB,CAAD,CAAtC,wCAAOC,OAAP,eAAgBC,UAAhB,eAEA,0BAAqBL,qBAAqB,EAA1C,gEAAOM,UAAP,2BAEF,0BAAkBP,qBAAqB,EAAvC,8CAAOQ,IAAP,CAAOA,IAAP,iCAAY,EAAZ,wBAEE,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACA,GAAMC,CAAAA,UAAU,gCACXP,OADW,MAEdQ,EAAE,CAAEC,IAAI,CAACC,GAAL,EAFU,EAAhB,CAIAP,IAAI,CAACQ,IAAL,CAAU,SAAAX,OAAO,QAAIA,CAAAA,OAAO,CAACF,IAAR,GAAiBS,UAAU,CAACT,IAAhC,EAAjB,EAA0DJ,KAAK,CAACkB,KAAN,sCAA0CL,UAAU,CAACT,IAArD,EAA1D,CACAI,UAAU,CAACK,UAAD,CADV,CAEAN,UAAU,CAAC,CAAEH,IAAI,CAAE,EAAR,CAAYC,MAAM,CAAE,EAApB,CAAD,CAAV,CACAL,KAAK,CAACmB,OAAN,CAAc,sBAAd,EACD,CAVD,CAYA,mBACE,cAAM,SAAS,CAAEpB,CAAC,CAACqB,MAAnB,CAA2B,QAAQ,CAAEV,YAArC,wBACE,KAAC,OAAD,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,MAHd,CAIE,IAAI,CAAC,MAJP,CAKE,KAAK,CAAEJ,OAAO,CAACF,IALjB,CAME,QAAQ,CAAE,kBAACO,CAAD,QAAOJ,CAAAA,UAAU,gCAAMD,OAAN,MAAeF,IAAI,CAAEO,CAAC,CAACU,MAAF,CAASC,KAA9B,GAAjB,EANZ,EADF,cASE,KAAC,OAAD,EACE,QAAQ,KADV,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,QAHd,CAIE,IAAI,CAAC,QAJP,CAKE,KAAK,CAAEhB,OAAO,CAACD,MALjB,CAME,QAAQ,CAAE,kBAACM,CAAD,QAAOJ,CAAAA,UAAU,gCAAMD,OAAN,MAAeD,MAAM,CAAEM,CAAC,CAACU,MAAF,CAASC,KAAhC,GAAjB,EANZ,EATF,cAiBE,KAAC,QAAD,EAAU,IAAI,CAAC,QAAf,yBAjBF,GADF,CAqBD,CAxCD,CA0CA,cAAenB,CAAAA,SAAf","sourcesContent":["import MyButton from \"components/UI/button/MyButton\";\nimport MyInput from \"components/UI/input/MyInput\";\nimport React, { useState } from \"react\";\nimport s from \"./PhoneForm.module.css\";\nimport toast from \"react-hot-toast\";\nimport { useFetchContactsQuery, useAddContactMutation } from \"../../redux\";\n\nconst PhoneForm = () => {\n  const [contact, setContact] = useState({ name: \"\", number: \"\" });\n\n  const [addContact] = useAddContactMutation();\n\nconst {data=[]} = useFetchContactsQuery();\n\n  const toAddContact = (e) => {\n    e.preventDefault();\n    const newContact = {\n      ...contact,\n      id: Date.now(),\n    };\n    data.some(contact => contact.name === newContact.name) ? (toast.error(`your phonebook has contact ${newContact.name}`)) :\n    addContact(newContact);\n    setContact({ name: \"\", number: \"\" });\n    toast.success(\"Created new contact!\");\n  };\n\n  return (\n    <form className={s.myForm} onSubmit={toAddContact}>\n      <MyInput\n        required\n        type=\"text\"\n        placeholder=\"name\"\n        name=\"name\"\n        value={contact.name}\n        onChange={(e) => setContact({ ...contact, name: e.target.value })}\n      />\n      <MyInput\n        required\n        type=\"text\"\n        placeholder=\"number\"\n        name=\"number\"\n        value={contact.number}\n        onChange={(e) => setContact({ ...contact, number: e.target.value })}\n      />\n      <MyButton type=\"submit\">Add contact</MyButton>\n    </form>\n  );\n};\n\nexport default PhoneForm;\n"]},"metadata":{},"sourceType":"module"}